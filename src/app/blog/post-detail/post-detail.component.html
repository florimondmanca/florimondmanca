<div class="page" *ngIf="post">

  <header>
    <div id="meta">
      <div>
        <label class="text-muted" *ngIf="post.published">
          {{ post.published | amDateFormat: 'LL' }}
        </label>
        <label class="text-muted" *ngIf="!post.published">
          Drafted {{ post.created | amDateFormat: 'LL' }}
        </label>
        <app-tag-list id="tags" [tags]="post.tags" *ngIf="post.tags.length > 0"></app-tag-list>
      </div>
      <a mat-button *ngIf="canEdit" [routerLink]="['/a', post.pk, 'edit']" color="warn">
        <mat-icon inline="true">edit</mat-icon> Edit
      </a>
    </div>

    <h1 class="text-primary">
      {{ post.title }}
    </h1>

    <p class="text-muted" *ngIf="post.description">
      {{ post.description }}
    </p>
  </header>

  <app-image *ngIf="post.imageUrl" [src]="post.imageUrl" [caption]="post.imageCaption"></app-image>

  <markdown [data]="post.content"></markdown>

  <app-post-footer></app-post-footer>

  <div class="nav">
    <app-post-nav id="previous" [relative]="post.previous" type="previous"></app-post-nav>
    <app-post-nav id="next" [relative]="post.next" type="next"></app-post-nav>
  </div>

</div>
